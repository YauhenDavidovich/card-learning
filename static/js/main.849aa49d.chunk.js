(this["webpackJsonpcard-learning"]=this["webpackJsonpcard-learning"]||[]).push([[0],{135:function(e,t,n){},141:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(27),c=n.n(s),i=(n(135),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),o=n(23),l=n(17),d=(n(141),n(210)),j=n(13),u=n(44),b=n.n(u),h=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),m=function(e){return h.post("/auth/login",e)},p=function(){return h.delete("/auth/me")},O=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),x=function(){return O.post("auth/me")},f={status:"idle"},g=function(e){return{type:"APP/SET-STATUS",status:e}},w={isAuth:!1,user:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},y="card-learning/login/LOG-IN",v="card-learning/login/SET-USER",S=function(e){return{type:y,isAuth:e}},P=function(e){return{type:v,data:e}},C=n(2),k=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isAuth}));return Object(C.jsxs)("div",{className:"header",children:[Object(C.jsx)(o.c,{to:"/login",children:"Login"}),Object(C.jsx)(o.c,{to:"/forgot-password",children:"Forgot Password"}),Object(C.jsx)(o.c,{to:"/recovery-password",children:"Recovery Password"}),Object(C.jsx)(o.c,{to:"/profile",children:"Profile"}),Object(C.jsx)(o.c,{to:"/registration",children:"Registration"}),t&&Object(C.jsx)(d.a,{color:"inherit",onClick:function(){e((function(e){p().then((function(t){e(S(!1)),e(P(t.data))}))}))},children:"Logout"})]})},E=n(12),A=n(45),R=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),T=function(e){return R.post("auth/forgot",e)},N=function(e){return R.post("auth/set-new-password",e)},F={IsRequestNewPasswordSent:!1,email:"",message:null},I="card-learning/forgot/IS_REQUEST_NEW_PASSWORD_SENT",D="card-learning/forgot/SET_MESSAGE",_=function(e){return{type:D,message:e}},B=function(e,t,n){return function(r){r(g("loading")),T({email:e,from:t,message:n}).then((function(t){r(function(e,t){return{type:I,email:e,IsRequestNewPasswordSent:t}}(e,!0)),r(_("Check your email please")),r(g("succeeded"))})).catch((function(e){r(_(e.response?e.response.data.error:e.message+"more details in the console")),r(g("failed"))}))}},L=n(201),q=n(209),U=n(211),W=n(216),Z=n(203),G=n(207),M=a.a.memo((function(){var e=Object(l.c)((function(e){return e.forgot.IsRequestNewPasswordSent})),t=Object(l.c)((function(e){return e.login.isAuth})),n=Object(l.c)((function(e){return e.forgot.message})),r=Object(l.b)(),a=Object(l.c)((function(e){return e.forgot.email})),s=Object(E.g)(),c=Object(A.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Please type your email!",t},onSubmit:function(e){r(B(e.email,"davidovich336@gmail.com",'<div style="background-color: lime; padding: 15px">\n            password recovery link:\n            <a href="https://yauhendavidovich.github.io/card-learning/#/recovery-password/$token$">link</a> \n          </div>')),c.resetForm()}});return e?Object(C.jsx)(E.a,{to:"/check-email/"+a}):t?Object(C.jsx)(E.a,{to:"/profile"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)(L.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(L.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:c.handleSubmit,children:Object(C.jsxs)(U.a,{children:[Object(C.jsx)(Z.a,{children:Object(C.jsx)(q.a,{component:"span",sx:{marginTop:"20px",marginBottom:"10px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Forgot your password?"})})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)(L.a,{container:!0,justifyContent:"space-between",direction:"column",alignItems:"center",children:[Object(C.jsx)(G.a,Object(j.a)({type:"email",label:"Email",margin:"normal",color:"primary",placeholder:"Email"},c.getFieldProps("email"))),c.touched.email&&c.errors.email&&Object(C.jsx)("div",{style:{color:"red"},children:c.errors.email}),n&&Object(C.jsx)("div",{style:{color:"red"},children:n}),Object(C.jsx)(L.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(L.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("h4",{children:"Enter your email address and we will send you further instructions"})})}),Object(C.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",children:"Send Instructions"}),Object(C.jsx)(q.a,{children:Object(C.jsx)("h4",{children:"Did you remember your password?"})}),Object(C.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(){s("/login")},children:"Try logging in"})]})})]})})})})})})})),$=n(212),V=n(217),J=function(){var e=Object(E.g)(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.login.isAuth})),r=Object(A.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="required fill",e.password||(t.password="password must have"),t},onSubmit:function(e){var n;t((n=e,function(e){e(g("loading")),m(n).then((function(t){e(S(!0)),e(P(t.data)),e(g("succeeded"))})).catch((function(t){e(g("failed"))}))}))}});return n?Object(C.jsx)(E.a,{to:"/profile"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)($.a,{container:!0,justifyContent:"center",children:Object(C.jsx)($.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:r.handleSubmit,children:Object(C.jsxs)(U.a,{children:[Object(C.jsx)(Z.a,{children:Object(C.jsx)("h2",{style:{padding:"20px"},children:"SIGN-IN"})}),Object(C.jsx)(W.a,{children:Object(C.jsxs)($.a,{container:!0,justifyContent:"center",direction:"column",children:[Object(C.jsx)(G.a,Object(j.a)(Object(j.a)({label:"Email",margin:"normal"},r.getFieldProps("email")),{},{value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur})),r.touched.email&&r.errors.email?Object(C.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(C.jsx)(G.a,Object(j.a)(Object(j.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password")),{},{value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur})),r.touched.password&&r.errors.password?Object(C.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(C.jsx)(V.a,{component:o.b,to:"/forgot-password",color:"secondary",children:"Forgot Password"}),Object(C.jsx)(d.a,{color:"primary",type:"submit",variant:"contained",children:"Login"}),Object(C.jsx)("div",{children:" Don`t have an account?"}),Object(C.jsx)(d.a,{onClick:function(){e("/registration")},variant:"contained",color:"secondary",children:"Sign Up"})]})})]})})})})})})},Q=function(){var e=Object(l.c)((function(e){return e.login.user}));return Object(l.c)((function(e){return e.login.isAuth}))?Object(C.jsxs)("div",{children:[" ",e?Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:e.avatar}),e.name]}):""]}):Object(C.jsx)(E.a,{to:"/login"})},z={isNewPasswordSet:!1,message:null},H="card-learning/newPassword/SET_NEW_PASSWORD",K="card-learning/newPassword/SET_MESSAGE",X=function(e){return{type:K,message:e}},Y=n(205),ee=a.a.memo((function(){var e=Object(l.c)((function(e){return e.newPassword.isNewPasswordSet})),t=Object(l.c)((function(e){return e.newPassword.message})),n=Object(l.b)(),r=Object(E.h)().token,a=Object(A.a)({initialValues:{password:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Must be 8 characters or more"):t.password="Please type new password",t},onSubmit:function(e){var t,s;n((t=e.password,s=r,function(e){N({password:t,resetPasswordToken:s}).then((function(t){t.data.info?e({type:"card-learning/newPassword/SET_NEW_PASSWORD",isPasswordSet:!0}):t.data.error?e(X(t.data.error)):e(X("Some error occurred!"))})).catch((function(t){e(X(t.message?t.message:"Network error occurred!"))}))})),a.resetForm()}});return e?Object(C.jsx)(E.a,{to:"/login"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)(Y.a,{maxWidth:"sm",style:{background:"#F9F9FE",height:"50vh",borderRadius:"8px"},children:Object(C.jsx)(L.a,{container:!0,spacing:3,children:Object(C.jsx)(L.a,{item:!0,style:{marginTop:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(C.jsxs)("form",{onSubmit:a.handleSubmit,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(C.jsx)(q.a,{component:"span",sx:{marginTop:"20px",marginBottom:"20px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Create new password"})}),Object(C.jsxs)(q.a,{component:"span",display:"block",children:[Object(C.jsx)(G.a,Object(j.a)({variant:"outlined",style:{marginTop:"20px",width:"100%"},id:"outlined-basic",type:"password",color:"primary",placeholder:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(C.jsx)("div",{style:{color:"red"},children:a.errors.password}),t&&Object(C.jsx)("div",{style:{color:"red"},children:t})]}),Object(C.jsx)(q.a,{children:Object(C.jsx)("h4",{children:"Create new password and we will send you further instructions to email"})}),Object(C.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",style:{borderRadius:"30px",background:"#73926C",marginTop:"30px",alignSelf:"center",boxShadow:"0px 4px 18px rgba(33, 38, 143, 0.35), inset 0px 1px 0px rgba(255, 255, 255, 0.3)"},children:"Create new password"})]})})})})})})),te=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),ne=function(e,t){return te.post("auth/register",{email:e,password:t})},re={isRegistered:!1},ae=function(){var e=Object(l.c)((function(e){return e.login.isAuth})),t=Object(l.b)(),n=Object(A.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Password must be more than two characters"):t.password="Required",e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Passwords must match"):t.confirmPassword="Required",t},onSubmit:function(e){var r,a;t((r=e.email,a=e.password,function(e){ne(r,a).then((function(t){e({type:"REGISTERED",isRegistered:!0})})).catch((function(e){alert("This email is already registered")}))})),n.resetForm()}});return e?Object(C.jsx)(E.a,{to:"/profile"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)(L.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(L.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:n.handleSubmit,children:Object(C.jsxs)(U.a,{children:[Object(C.jsx)(Z.a,{children:Object(C.jsx)(L.a,{container:!0,justifyContent:"center",children:Object(C.jsxs)(L.a,{item:!0,justifyContent:"center",children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)(L.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(L.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("h3",{children:"Sign up"})})})]})})}),Object(C.jsxs)(W.a,{children:[Object(C.jsx)(G.a,Object(j.a)({label:"Email",margin:"normal"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.email}),Object(C.jsx)(G.a,Object(j.a)({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.password}),Object(C.jsx)(G.a,Object(j.a)({type:"password",label:"Confirm password",margin:"normal"},n.getFieldProps("confirmPassword"))),n.touched.confirmPassword&&n.errors.confirmPassword&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.confirmPassword}),Object(C.jsx)(q.a,{children:Object(C.jsxs)(L.a,{container:!0,justifyContent:"space-between",children:[Object(C.jsx)(d.a,{onClick:function(){n.resetForm()},variant:"contained",color:"secondary",children:"Cancel"}),Object(C.jsx)(d.a,{type:"submit",variant:"contained",color:"primary",children:"Register"})]})})]})]})})})})})})},se=function(){return Object(C.jsx)("div",{className:"main",children:"Page not found"})},ce=function(){var e=Object(E.h)().email;return Object(C.jsx)("div",{className:"main",children:Object(C.jsx)(Y.a,{maxWidth:"sm",style:{background:"#F9F9FE",height:"50vh",borderRadius:"8px"},children:Object(C.jsx)(L.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:Object(C.jsxs)(L.a,{item:!0,style:{marginTop:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)(q.a,{component:"span",sx:{marginTop:"20px",marginBottom:"20px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Check Email"})}),Object(C.jsx)(q.a,{children:Object(C.jsxs)("h4",{children:["We\u2019ve sent an Email with instructions to ",e]})})]})})})})},ie=function(){return Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.b,{path:"/login",element:Object(C.jsx)(J,{})}),Object(C.jsx)(E.b,{path:"/forgot-password",element:Object(C.jsx)(M,{})}),Object(C.jsx)(E.b,{path:"/profile",element:Object(C.jsx)(Q,{})}),Object(C.jsx)(E.b,{path:"/recovery-password/:token",element:Object(C.jsx)(ee,{})}),Object(C.jsx)(E.b,{path:"/registration",element:Object(C.jsx)(ae,{})}),Object(C.jsx)(E.b,{path:"/404",element:Object(C.jsx)(se,{})}),"*/",Object(C.jsx)(E.b,{path:"/check-email/:email",element:Object(C.jsx)(ce,{})}),"*/",Object(C.jsx)(E.b,{path:"*",element:Object(C.jsx)(E.a,{to:"/login"})})]})},oe=n(206),le=n(110),de=Object(le.a)({palette:{primary:{main:"#73926C",contrastText:"#fff"},secondary:{main:"#EDA909",contrastText:"#fff"}}}),je=n(215),ue=function(){return Object(C.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(C.jsx)(je.a,{})})};var be=function(){var e=Object(l.c)((function(e){return e.app.status})),t=Object(l.b)();return Object(r.useEffect)((function(){t((function(e){e(g("loading")),x().then((function(t){e(S(!0)),e(P(t.data)),e(g("succeeded"))})).catch((function(){e(g("failed"))})).finally((function(){}))}))}),[]),Object(C.jsx)(oe.a,{theme:de,children:Object(C.jsx)("div",{className:"App",children:"loading"===e?Object(C.jsx)(ue,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(k,{}),Object(C.jsx)(ie,{})]})})})},he=n(78),me=n(109),pe={},Oe=Object(he.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),{},{isAuth:t.isAuth});case v:return Object(j.a)(Object(j.a)({},e),{},{user:t.data});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{email:t.email,IsRequestNewPasswordSent:t.IsRequestNewPasswordSent});case D:return Object(j.a)(Object(j.a)({},e),{},{message:t.message});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(j.a)(Object(j.a)({},e),{},{isNewPasswordSet:t.isPasswordSet});case K:return Object(j.a)(Object(j.a)({},e),{},{message:t.message});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTERED":return Object(j.a)(Object(j.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});default:return Object(j.a)({},e)}}}),xe=Object(he.c)(Oe,Object(he.a)(me.a)),fe=window.store=xe;c.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(o.a,{children:Object(C.jsx)(l.a,{store:fe,children:Object(C.jsx)(be,{})})})}),document.getElementById("root")),i()}},[[162,1,2]]]);
//# sourceMappingURL=main.849aa49d.chunk.js.map
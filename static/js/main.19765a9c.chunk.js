(this["webpackJsonpcard-learning"]=this["webpackJsonpcard-learning"]||[]).push([[0],{135:function(e,t,n){},141:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(27),c=n.n(s),i=(n(135),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),o=n(23),l=n(17),d=(n(141),n(210)),j=n(13),u=n(44),b=n.n(u),h=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),m=function(e){return h.post("/auth/login",e)},O=function(){return h.delete("/auth/me")},p=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),x=function(){return p.post("auth/me")},f={status:"idle"},g=function(e){return{type:"APP/SET-STATUS",status:e}},w={isAuth:!1,user:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},y="card-learning/login/LOG-IN",v="card-learning/login/SET-USER",S=function(e){return{type:y,isAuth:e}},P=function(e){return{type:v,data:e}},C=n(2),k=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.login.isAuth}));return Object(C.jsxs)("div",{className:"header",children:[Object(C.jsx)(o.c,{to:"/login",children:"Login"}),Object(C.jsx)(o.c,{to:"/forgot-password",children:"Forgot Password"}),Object(C.jsx)(o.c,{to:"/recovery-password",children:"Recovery Password"}),Object(C.jsx)(o.c,{to:"/profile",children:"Profile"}),Object(C.jsx)(o.c,{to:"/registration",children:"Registration"}),t&&Object(C.jsx)(d.a,{color:"inherit",onClick:function(){e((function(e){O().then((function(t){e(S(!1)),e(P(t.data))}))}))},children:"Logout"})]})},E=n(12),A=n(15),R=n(45),T=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),N=function(e){return T.post("auth/forgot",e)},F=function(e){return T.post("auth/set-new-password",e)},I={IsRequestNewPasswordSent:!1,message:null},D="card-learning/forgot/IS_REQUEST_NEW_PASSWORD_SENT",_="card-learning/forgot/SET_MESSAGE",B=function(e){return{type:_,message:e}},L=function(e,t,n){return function(r){N({email:e,from:t,message:n}).then((function(e){e.data.success?(r({type:D,IsRequestNewPasswordSent:!0}),r(B("Check your email please"))):r(B("Something went wrong"))})).catch((function(e){r(B(e.message?e.message:"Network error occurred!"))}))}},q=n(201),U=n(209),W=n(211),Z=n(216),G=n(203),M=n(207),$=a.a.memo((function(){var e=Object(l.c)((function(e){return e.forgot.IsRequestNewPasswordSent})),t=Object(l.c)((function(e){return e.login.isAuth})),n=Object(l.c)((function(e){return e.forgot.message})),a=Object(l.b)(),s=Object(r.useState)(""),c=Object(A.a)(s,2),i=c[0],o=c[1],u=Object(E.g)(),b=Object(R.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Please type your email!",t},onSubmit:function(e){a(L(e.email,"davidovich336@gmail.com",'<div style="background-color: lime; padding: 15px">\n            password recovery link:\n            <a href="https://yauhendavidovich.github.io/card-learning/#/recovery-password/$token$">link</a> \n          </div>')),o("/check-email/"+e.email),b.resetForm()}});return t?Object(C.jsx)(E.a,{to:"/profile"}):e?Object(C.jsx)(E.a,{to:i}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)(q.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(q.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:b.handleSubmit,children:Object(C.jsxs)(W.a,{children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(U.a,{component:"span",sx:{marginTop:"20px",marginBottom:"10px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Forgot your password?"})})}),Object(C.jsx)(Z.a,{children:Object(C.jsxs)(q.a,{container:!0,justifyContent:"space-between",direction:"column",alignItems:"center",children:[Object(C.jsx)(M.a,Object(j.a)({type:"email",label:"Email",margin:"normal",color:"primary",placeholder:"Email"},b.getFieldProps("email"))),b.touched.email&&b.errors.email&&Object(C.jsx)("div",{style:{color:"red"},children:b.errors.email}),n&&Object(C.jsx)("div",{style:{color:"red"},children:n}),Object(C.jsx)(q.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(q.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("h4",{children:"Enter your email address and we will send you further instructions"})})}),Object(C.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",children:"Send Instructions"}),Object(C.jsx)(U.a,{children:Object(C.jsx)("h4",{children:"Did you remember your password?"})}),Object(C.jsx)(d.a,{variant:"contained",color:"secondary",onClick:function(){u("/login")},children:"Try logging in"})]})})]})})})})})})})),V=n(212),J=n(217),Q=function(){var e=Object(E.g)(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.login.isAuth})),r=Object(R.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="required fill",e.password||(t.password="password must have"),t},onSubmit:function(e){var n;t((n=e,function(e){e(g("loading")),m(n).then((function(t){e(S(!0)),e(P(t.data)),e(g("succeeded"))})).catch((function(t){e(g("failed"))}))}))}});return n?Object(C.jsx)(E.a,{to:"/profile"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)(V.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(V.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:r.handleSubmit,children:Object(C.jsxs)(W.a,{children:[Object(C.jsx)(G.a,{children:Object(C.jsx)("h2",{style:{padding:"20px"},children:"SIGN-IN"})}),Object(C.jsx)(Z.a,{children:Object(C.jsxs)(V.a,{container:!0,justifyContent:"center",direction:"column",children:[Object(C.jsx)(M.a,Object(j.a)(Object(j.a)({label:"Email",margin:"normal"},r.getFieldProps("email")),{},{value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur})),r.touched.email&&r.errors.email?Object(C.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(C.jsx)(M.a,Object(j.a)(Object(j.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password")),{},{value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur})),r.touched.password&&r.errors.password?Object(C.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(C.jsx)(J.a,{component:o.b,to:"/forgot-password",color:"secondary",children:"Forgot Password"}),Object(C.jsx)(d.a,{color:"primary",type:"submit",variant:"contained",children:"Login"}),Object(C.jsx)("div",{children:" Don`t have an account?"}),Object(C.jsx)(d.a,{onClick:function(){e("/registration")},variant:"contained",color:"secondary",children:"Sign Up"})]})})]})})})})})})},z=function(){var e=Object(l.c)((function(e){return e.login.user}));return Object(l.c)((function(e){return e.login.isAuth}))?Object(C.jsxs)("div",{children:[" ",e?Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:e.avatar}),e.name]}):""]}):Object(C.jsx)(E.a,{to:"/login"})},H={isNewPasswordSet:!1,message:null},K="card-learning/newPassword/SET_NEW_PASSWORD",X="card-learning/newPassword/SET_MESSAGE",Y=function(e){return{type:X,message:e}},ee=n(205),te=a.a.memo((function(){var e=Object(l.c)((function(e){return e.newPassword.isNewPasswordSet})),t=Object(l.c)((function(e){return e.newPassword.message})),n=Object(l.b)(),r=Object(E.h)().token,a=Object(R.a)({initialValues:{password:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Must be 8 characters or more"):t.password="Please type new password",t},onSubmit:function(e){var t,s;n((t=e.password,s=r,function(e){F({password:t,resetPasswordToken:s}).then((function(t){t.data.info?e({type:"card-learning/newPassword/SET_NEW_PASSWORD",isPasswordSet:!0}):t.data.error?e(Y(t.data.error)):e(Y("Some error occurred!"))})).catch((function(t){e(Y(t.message?t.message:"Network error occurred!"))}))})),a.resetForm()}});return e?Object(C.jsx)(E.a,{to:"/login"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)(ee.a,{maxWidth:"sm",style:{background:"#F9F9FE",height:"50vh",borderRadius:"8px"},children:Object(C.jsx)(q.a,{container:!0,spacing:3,children:Object(C.jsx)(q.a,{item:!0,style:{marginTop:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(C.jsxs)("form",{onSubmit:a.handleSubmit,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(C.jsx)(U.a,{component:"span",sx:{marginTop:"20px",marginBottom:"20px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Create new password"})}),Object(C.jsxs)(U.a,{component:"span",display:"block",children:[Object(C.jsx)(M.a,Object(j.a)({variant:"outlined",style:{marginTop:"20px",width:"100%"},id:"outlined-basic",type:"password",color:"primary",placeholder:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(C.jsx)("div",{style:{color:"red"},children:a.errors.password}),t&&Object(C.jsx)("div",{style:{color:"red"},children:t})]}),Object(C.jsx)(U.a,{children:Object(C.jsx)("h4",{children:"Create new password and we will send you further instructions to email"})}),Object(C.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",style:{borderRadius:"30px",background:"#73926C",marginTop:"30px",alignSelf:"center",boxShadow:"0px 4px 18px rgba(33, 38, 143, 0.35), inset 0px 1px 0px rgba(255, 255, 255, 0.3)"},children:"Create new password"})]})})})})})})),ne=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),re=function(e,t){return ne.post("auth/register",{email:e,password:t})},ae={isRegistered:!1},se=function(){var e=Object(l.c)((function(e){return e.login.isAuth})),t=Object(l.b)(),n=Object(R.a)({initialValues:{email:"",password:"",confirmPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<3&&(t.password="Password must be more than two characters"):t.password="Required",e.confirmPassword?e.confirmPassword!==e.password&&(t.confirmPassword="Passwords must match"):t.confirmPassword="Required",t},onSubmit:function(e){var r,a;t((r=e.email,a=e.password,function(e){re(r,a).then((function(t){e({type:"REGISTERED",isRegistered:!0})})).catch((function(e){alert("This email is already registered")}))})),n.resetForm()}});return e?Object(C.jsx)(E.a,{to:"/profile"}):Object(C.jsx)("div",{className:"main",children:Object(C.jsx)("div",{className:"mainBlock",children:Object(C.jsx)(q.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(q.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("form",{onSubmit:n.handleSubmit,children:Object(C.jsxs)(W.a,{children:[Object(C.jsx)(G.a,{children:Object(C.jsx)(q.a,{container:!0,justifyContent:"center",children:Object(C.jsxs)(q.a,{item:!0,justifyContent:"center",children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)(q.a,{container:!0,justifyContent:"center",children:Object(C.jsx)(q.a,{item:!0,justifyContent:"center",children:Object(C.jsx)("h3",{children:"Sign up"})})})]})})}),Object(C.jsxs)(Z.a,{children:[Object(C.jsx)(M.a,Object(j.a)({label:"Email",margin:"normal"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.email}),Object(C.jsx)(M.a,Object(j.a)({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.password}),Object(C.jsx)(M.a,Object(j.a)({type:"password",label:"Confirm password",margin:"normal"},n.getFieldProps("confirmPassword"))),n.touched.confirmPassword&&n.errors.confirmPassword&&Object(C.jsx)("div",{style:{color:"red"},children:n.errors.confirmPassword}),Object(C.jsx)(U.a,{children:Object(C.jsxs)(q.a,{container:!0,justifyContent:"space-between",children:[Object(C.jsx)(d.a,{onClick:function(){n.resetForm()},variant:"contained",color:"secondary",children:"Cancel"}),Object(C.jsx)(d.a,{type:"submit",variant:"contained",color:"primary",children:"Register"})]})})]})]})})})})})})},ce=function(){return Object(C.jsx)("div",{className:"main",children:"Page not found"})},ie=function(){var e=Object(E.h)().email;return Object(C.jsx)("div",{className:"main",children:Object(C.jsx)(ee.a,{maxWidth:"sm",style:{background:"#F9F9FE",height:"50vh",borderRadius:"8px"},children:Object(C.jsx)(q.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:Object(C.jsxs)(q.a,{item:!0,style:{marginTop:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)(U.a,{component:"span",sx:{marginTop:"20px",marginBottom:"20px"},children:Object(C.jsx)("h2",{style:{textAlign:"center"},children:"Check Email"})}),Object(C.jsx)(U.a,{children:Object(C.jsxs)("h4",{children:["We\u2019ve sent an Email with instructions to ",e]})})]})})})})},oe=function(){return Object(C.jsxs)(E.d,{children:[Object(C.jsx)(E.b,{path:"/login",element:Object(C.jsx)(Q,{})}),Object(C.jsx)(E.b,{path:"/forgot-password",element:Object(C.jsx)($,{})}),Object(C.jsx)(E.b,{path:"/profile",element:Object(C.jsx)(z,{})}),Object(C.jsx)(E.b,{path:"/recovery-password/:token",element:Object(C.jsx)(te,{})}),Object(C.jsx)(E.b,{path:"/registration",element:Object(C.jsx)(se,{})}),Object(C.jsx)(E.b,{path:"/404",element:Object(C.jsx)(ce,{})}),"*/",Object(C.jsx)(E.b,{path:"/check-email/:email",element:Object(C.jsx)(ie,{})}),"*/",Object(C.jsx)(E.b,{path:"*",element:Object(C.jsx)(E.a,{to:"/login"})})]})},le=n(206),de=n(110),je=Object(de.a)({palette:{primary:{main:"#73926C",contrastText:"#fff"},secondary:{main:"#EDA909",contrastText:"#fff"}}}),ue=n(215),be=function(){return Object(C.jsx)("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"},children:Object(C.jsx)(ue.a,{})})};var he=function(){var e=Object(l.c)((function(e){return e.app.status})),t=Object(l.b)();return Object(r.useEffect)((function(){t((function(e){e(g("loading")),x().then((function(t){e(S(!0)),e(P(t.data)),e(g("succeeded"))})).catch((function(){e(g("failed"))})).finally((function(){}))}))}),[]),Object(C.jsx)(le.a,{theme:je,children:Object(C.jsx)("div",{className:"App",children:"loading"===e?Object(C.jsx)(be,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(k,{}),Object(C.jsx)(oe,{})]})})})},me=n(78),Oe=n(109),pe={},xe=Object(me.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),{},{isAuth:t.isAuth});case v:return Object(j.a)(Object(j.a)({},e),{},{user:t.data});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(j.a)(Object(j.a)({},e),{},{IsRequestNewPasswordSent:t.IsRequestNewPasswordSent});case _:return Object(j.a)(Object(j.a)({},e),{},{message:t.message});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(j.a)(Object(j.a)({},e),{},{isNewPasswordSet:t.isPasswordSet});case X:return Object(j.a)(Object(j.a)({},e),{},{message:t.message});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTERED":return Object(j.a)(Object(j.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(j.a)(Object(j.a)({},e),{},{status:t.status});default:return Object(j.a)({},e)}}}),fe=Object(me.c)(xe,Object(me.a)(Oe.a)),ge=window.store=fe;c.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(o.a,{children:Object(C.jsx)(l.a,{store:ge,children:Object(C.jsx)(he,{})})})}),document.getElementById("root")),i()}},[[162,1,2]]]);
//# sourceMappingURL=main.19765a9c.chunk.js.map